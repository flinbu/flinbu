!function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(a.jQuery)}}(this,function(c){var b="scrolly",e={bgParallax:false},d=false;function a(g,f){this.element=g;this.$element=c(this.element);this.options=c.extend({},e,f);this._defaults=e;this._name=b;this.init()}a.prototype.init=function(){var f=this;this.startPosition=this.$element.position().top;this.offsetTop=this.$element.offset().top;this.height=this.$element.outerHeight(true);this.velocity=this.$element.attr("data-velocity");this.bgStart=parseInt(this.$element.attr("data-fit"),10);c(document).scroll(function(){f.didScroll=true});setInterval(function(){if(f.didScroll){f.didScroll=false;f.scrolly()}},10)};a.prototype.scrolly=function(){var h=c(window).scrollTop(),g=c(window).height(),f=this.startPosition;if(this.offsetTop>=(h+g)){this.$element.addClass("scrolly-invisible")}else{if(this.$element.hasClass("scrolly-invisible")){f=this.startPosition+(h+(g-this.offsetTop))*this.velocity}else{f=this.startPosition+h*this.velocity}}if(this.bgStart){f=f+this.bgStart}if(this.options.bgParallax===true){this.$element.css({backgroundPosition:"50% "+f+"px"})}else{this.$element.css({top:f})}};c.fn[b]=function(f){return this.each(function(){if(!c.data(this,"plugin_"+b)){c.data(this,"plugin_"+b,new a(this,f))}})}});