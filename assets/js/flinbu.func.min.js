function fullSize(c){var a=$(window).width(),b=$(window).height();if(!$("body").hasClass("mobile")){c.height(b)}else{if(c.hasClass("main")){c.height(b)}}}function fullSizeMin(c){var a=$(window).width(),b=$(window).height();if(!$("body").hasClass("mobile")){c.css("min-height",b+"px")}}function parallax(a){if(!$("body").hasClass("mobile")){$(window).scroll(function(){var b=-($(window).scrollTop()/a.data("speed")),c="50% "+b+"px";a.css({backgroundPosition:c})})}}function behancePortfolio(b){var e=b.data("key"),a=b.data("user"),c=$(b.data("tpl")).html(),d=1;page_portfolio(d,e,a,c,b);var g=b.parent().parent().find(".behance-nav-prev"),f=b.parent().parent().find(".behance-nav-next");g.hide();g.attr("current-page",d);f.attr("current-page",d);f.click(function(j){j.preventDefault();var i=parseInt($(this).attr("current-page")),h=i+1;$(this).attr("current-page",h);g.attr("current-page",h);if(h>1){g.fadeIn()}page_portfolio(h,e,a,c,b)});g.click(function(j){j.preventDefault();var i=parseInt($(this).attr("current-page")),h=i-1;$(this).attr("current-page",h);f.attr("current-page",h);if(h==1){g.fadeOut()}page_portfolio(h,e,a,c,b)})}function page_portfolio(f,d,b,c,a){var e="http://www.behance.net/v2/users/{user}/projects",h=a.parent().parent().find(".behance-nav-prev"),g=a.parent().parent().find(".behance-nav-next");a.find("article").removeClass("in");setTimeout(function(){$.ajax({url:e.replace("{user}",b),data:{api_key:d,page:f,per_page:9},dataType:"jsonp",success:function(i){if(i.projects.length<9){g.fadeOut()}else{g.fadeIn()}a.html("");i.projects.forEach(function(m){var l=(m.covers["404"])?m.covers[404]:m.covers["202"];var n=c.replace(/{title}/gi,m.name).replace(/{image}/gi,l).replace(/{url}/gi,m.url),j=$(n),k="";m.fields.forEach(function(o){var p=convertToSlug(o);k+=" "+p});j.addClass(k);a.append(j);j.find("img").load(function(){var o=Math.floor(Math.random()*800)+100;setTimeout(function(){j.addClass("in")},o)})})}})},500)}function convertToSlug(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function asyncBackground(b){var c=b.data("background"),a=$("<img>").attr({src:c,"class":"hidden"});a.load(function(){b.attr({style:"background-image: url("+a.attr("src")+");"}).find(".temp-background").fadeOut(function(){$(this).remove()});a.remove();b.addClass("active parallax").parallax()})}(function(a){a.fn.fullSize=function(){var b=a(this);fullSize(b);a(window).resize(function(){fullSize(b)})};a.fn.fullSizeMin=function(){var b=a(this);fullSizeMin(b);a(window).resize(function(){fullSizeMin(b)})};a.fn.parallax=function(){var b=a(this);parallax(b)};a.fn.behancePortfolio=function(){var b=a(this);behancePortfolio(b)};a.fn.asyncBackground=function(){var b=a(this);setTimeout(function(){asyncBackground(b)},1000)}})(jQuery);